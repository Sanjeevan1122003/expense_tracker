{"ast":null,"code":"import React from\"react\";import{PieChart,Pie,Cell,Tooltip,Legend,BarChart,Bar,XAxis,YAxis,CartesianGrid,LineChart,Line,ResponsiveContainer}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=[\"#0088FE\",\"#00C49F\",\"#FFBB28\",\"#FF8042\",\"#A28CFF\",\"#FF6699\"];const ExpenseCharts=_ref=>{let{expenses}=_ref;if(!expenses||expenses.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"No expense data available to display charts.\"});}// ðŸ§¾ Aggregate total amount by category for charts\nconst categoryData=Object.values(expenses.reduce((acc,exp)=>{if(!acc[exp.category]){acc[exp.category]={name:exp.category,amount:0};}acc[exp.category].amount+=Number(exp.amount);return acc;},{}));// ðŸ“… Prepare data for line/bar chart (by date)\nconst dateData=Object.values(expenses.reduce((acc,exp)=>{if(!acc[exp.only_date]){acc[exp.only_date]={date:exp.only_date,total:0};}acc[exp.only_date].total+=Number(exp.amount);return acc;},{}));return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"flex-start\",flexWrap:\"wrap\",gap:\"40px\",width:\"100%\",maxWidth:\"1100px\",marginTop:'-80px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:\"1 1 300px\",height:\"300px\",minWidth:\"300px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"Expense by Category\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:categoryData,dataKey:\"amount\",nameKey:\"name\",outerRadius:100,label:true,children:categoryData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:\"1 1 300px\",height:\"300px\",minWidth:\"300px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"Expense by Date\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:dateData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"total\",fill:\"#82ca9d\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:\"1 1 300px\",height:\"300px\",minWidth:\"300px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"Daily Expense Trend\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{data:dateData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"total\",stroke:\"#8884d8\",strokeWidth:2})]})})]})]});};export default/*#__PURE__*/React.memo(ExpenseCharts);","map":{"version":3,"names":["React","PieChart","Pie","Cell","Tooltip","Legend","BarChart","Bar","XAxis","YAxis","CartesianGrid","LineChart","Line","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","COLORS","ExpenseCharts","_ref","expenses","length","children","categoryData","Object","values","reduce","acc","exp","category","name","amount","Number","dateData","only_date","date","total","style","display","justifyContent","alignItems","flexWrap","gap","width","maxWidth","marginTop","flex","height","minWidth","textAlign","data","dataKey","nameKey","outerRadius","label","map","entry","index","fill","concat","strokeDasharray","type","stroke","strokeWidth","memo"],"sources":["D:/expense-tracker/frontend/src/pages/ExpenseCharts.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  Tooltip,\r\n  Legend,\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  LineChart,\r\n  Line,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#A28CFF\", \"#FF6699\"];\r\n\r\nconst ExpenseCharts = ({ expenses }) => {\r\n  if (!expenses || expenses.length === 0) {\r\n    return <p>No expense data available to display charts.</p>;\r\n  }\r\n\r\n  // ðŸ§¾ Aggregate total amount by category for charts\r\n  const categoryData = Object.values(\r\n    expenses.reduce((acc, exp) => {\r\n      if (!acc[exp.category]) {\r\n        acc[exp.category] = { name: exp.category, amount: 0 };\r\n      }\r\n      acc[exp.category].amount += Number(exp.amount);\r\n      return acc;\r\n    }, {})\r\n  );\r\n\r\n  // ðŸ“… Prepare data for line/bar chart (by date)\r\n  const dateData = Object.values(\r\n    expenses.reduce((acc, exp) => {\r\n      if (!acc[exp.only_date]) {\r\n        acc[exp.only_date] = { date: exp.only_date, total: 0 };\r\n      }\r\n      acc[exp.only_date].total += Number(exp.amount);\r\n      return acc;\r\n    }, {})\r\n  );\r\n\r\n  return (\r\n  <div\r\n    style={{\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\",\r\n      flexWrap: \"wrap\",\r\n      gap: \"40px\",\r\n      width: \"100%\",\r\n      maxWidth: \"1100px\",\r\n      marginTop:'-80px'\r\n    }}\r\n  >\r\n    <div style={{ flex: \"1 1 300px\", height: \"300px\", minWidth: \"300px\" }}>\r\n      <h3 style={{ textAlign: \"center\" }}>Expense by Category</h3>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <PieChart>\r\n          <Pie data={categoryData} dataKey=\"amount\" nameKey=\"name\" outerRadius={100} label>\r\n            {categoryData.map((entry, index) => (\r\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n            ))}\r\n          </Pie>\r\n          <Tooltip />\r\n          <Legend />\r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n\r\n    <div style={{ flex: \"1 1 300px\", height: \"300px\", minWidth: \"300px\" }}>\r\n      <h3 style={{ textAlign: \"center\" }}>Expense by Date</h3>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart data={dateData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"date\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"total\" fill=\"#82ca9d\" />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n\r\n    <div style={{ flex: \"1 1 300px\", height: \"300px\", minWidth: \"300px\" }}>\r\n      <h3 style={{ textAlign: \"center\" }}>Daily Expense Trend</h3>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <LineChart data={dateData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"date\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line type=\"monotone\" dataKey=\"total\" stroke=\"#8884d8\" strokeWidth={2} />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  </div>\r\n);\r\n};\r\n\r\nexport default React.memo(ExpenseCharts);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}